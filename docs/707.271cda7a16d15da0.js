"use strict";(self.webpackChunkAngular_TodoApp=self.webpackChunkAngular_TodoApp||[]).push([[707],{5707:(f,u,t)=>{t.r(u),t.d(u,{default:()=>g});var m=t(5861),o=t(4946),_=t(6814),p=t(6825),e=t(95),i=t(72),d=t(2013);function c(s,h){if(1&s&&(o.TgZ(0,"p",9),o._uU(1),o.qZA()),2&s){const r=o.oxw();o.xp6(1),o.hij(" ",r.errorMsg," ")}}let g=(()=>{class s{constructor(){this.showError=!1,this.errorMsg="email ou password incorrect, veuillez vous inscrire",this.ts=(0,o.f3M)(d.w),this.router=(0,o.f3M)(i.F0),this.loginForm=new e.cw({email:new e.NI("",[e.kI.required,e.kI.email]),password:new e.NI("",[e.kI.required])})}onSubmit(){var r=this;return(0,m.Z)(function*(){const n=r.loginForm.value.email,l=r.loginForm.value.password,a=yield r.ts.loggIn(n);a?.email===n&&a.password===l?(localStorage.setItem("email",n),r.router.navigateByUrl("/todos")):r.showError=!0})()}static#o=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-login"]],standalone:!0,features:[o.jDz],decls:17,vars:4,consts:[[3,"isLoginBtnShown"],[1,"p-4","flex","justify-center","mt-10"],[1,"border","bg-white","shadow-sm","p-4","lg:p-10",3,"formGroup"],[1,"font-semibold","text-gray-900","text-xl"],["routerLink","/register",1,"text-blue-600","ml-2"],["type","email","placeholder","email","formControlName","email",1,"p-2","outline-none","border","w-full","mt-5"],["type","password","placeholder","password","formControlName","password",1,"p-2","outline-none","border","w-full","mt-5"],["class","mt-5 text-sm text-red-600",4,"ngIf"],["type","submit",1,"bg-blue-600","mt-5","cursor-pointer","disabled:bg-gray-400","w-full","p-2","text-white",3,"disabled","click"],[1,"mt-5","text-sm","text-red-600"]],template:function(n,l){1&n&&(o.TgZ(0,"main"),o._UZ(1,"app-toolbar",0),o.TgZ(2,"div",1)(3,"form",2)(4,"h1",3),o._uU(5,"Connectez-Vous"),o.qZA(),o.TgZ(6,"p"),o._uU(7,"veuillez entrer votre email ou"),o.TgZ(8,"a",4),o._uU(9,"S'inscrire"),o.qZA()(),o._UZ(10,"input",5)(11,"br")(12,"input",6)(13,"br"),o.YNc(14,c,2,1,"p",7),o.TgZ(15,"button",8),o.NdJ("click",function(){return l.onSubmit()}),o._uU(16,"Connexion"),o.qZA()()()()),2&n&&(o.xp6(1),o.Q6J("isLoginBtnShown",!0),o.xp6(2),o.Q6J("formGroup",l.loginForm),o.xp6(11),o.Q6J("ngIf",l.showError),o.xp6(1),o.Q6J("disabled",l.loginForm.invalid))},dependencies:[_.ez,_.O5,p.n,e.UX,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u,i.Bz,i.rH],encapsulation:2})}return s})()}}]);